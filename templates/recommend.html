<!-- ì˜¤ë¥¸ìª½: ê¶Œì¥ ì¹¼ë¡œë¦¬ ìˆ˜ì¹˜ í‘œì‹œ + ì…ë ¥ ë°›ê¸°-->
      <div class="right-panel">
        <div class="section big-section">
          <h3>{{ user_name }}ë‹˜ì˜ í•˜ë£¨ ê¶Œì¥ ì¹¼ë¡œë¦¬ğŸ˜Š</h3>
          <p><strong>{{ recommended_calories }} kcal</strong></p>

          <div class="calorie-input">
            <label for="my_calories">ë‚˜ì˜ ì˜¤ëŠ˜ ì¹¼ë¡œë¦¬:</label>
            <input type="number" id="my_calories" placeholder="ì˜¤ëŠ˜ ì„­ì·¨ ì¹¼ë¡œë¦¬ ì…ë ¥">
            <button onclick="checkCalories()">í™•ì¸</button>
          </div>

          <p id="calorie-message" style="margin-top:10px; font-weight:bold;"></p>

          <div class="progress-section">
            <h3>ì§€ê¸ˆ ì§„í–‰ìƒíƒœëŠ”?</h3>
            <p id="progress-value"
              style="font-size: 32px; font-weight: bold; text-align: center;
              {% if progress >= 81 %} color: green;
              {% elif progress >= 61 %} color: limegreen;
              {% elif progress >= 41 %} color: orange;
              {% elif progress >= 21 %} color: orangered;
              {% else %} color: red; {% endif %}">
              {{ progress }}%
            </p>
          </div>
        </div>
      </div>

      <script>
      function updateCalories() {
        const breakfast = parseInt(document.getElementById("breakfast").value) || 0;
        const lunch = parseInt(document.getElementById("lunch").value) || 0;
        const dinner = parseInt(document.getElementById("dinner").value) || 0;
        const snack = parseInt(document.getElementById("snack").value) || 0;

        const total = breakfast + lunch + dinner + snack;
        const recommended = {{ recommended_calories }};
        const messageEl = document.getElementById("calorie-message");

        messageEl.textContent = "ì˜¤ëŠ˜ ì„ íƒí•œ ìŒì‹ ì¹¼ë¡œë¦¬: " + total + " kcal";

        const diff = total - recommended;
        if (diff > 200) {
          messageEl.textContent += " â†’ ê¶Œì¥ëŸ‰ë³´ë‹¤ ë„ˆë¬´ ë§ì•„ìš”!";
          messageEl.style.color = "red";
        } else if (diff < -200) {
          messageEl.textContent += " â†’ ê¶Œì¥ëŸ‰ë³´ë‹¤ ë„ˆë¬´ ì ì–´ìš”!";
          messageEl.style.color = "orange";
        } else {
          messageEl.textContent += " â†’ ì ì ˆí•©ë‹ˆë‹¤!";
          messageEl.style.color = "green";
        }
      }
      </script>
    
      <script>
      function checkCalories() {
        const myCalories = parseInt(document.getElementById("my_calories").value);
        const recommended = {{ recommended_calories }};
        const messageEl = document.getElementById("calorie-message");

        if (isNaN(myCalories)) {
          messageEl.textContent = "ì¹¼ë¡œë¦¬ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!";
          messageEl.style.color = "red";
          return;
      }

      const diff = myCalories - recommended;

      if (diff > 200) {
        messageEl.textContent = "í°ì¼ë‚˜! ì˜¤ëŠ˜ì²˜ëŸ¼ ì„­ì·¨í•˜ë©´ ì•ˆë¼!";
        messageEl.style.color = "red";
        messageEl.style.backgroundColor = "#ffe5e5";
      } else if (diff < -200) {
        messageEl.textContent = "ì„­ì·¨í•œ ì¹¼ë¡œë¦¬ê°€ ë„ˆë¬´ ì ì–´.. ë‚´ì¼ì€ ë‹¤ì‹œ ì˜í•´ë³´ì!";
        messageEl.style.color = "orange";
        messageEl.style.backgroundColor = "#fff3cd";
      } else {
        messageEl.textContent = "ì˜í–ˆì–´! ë‚´ì¼ë„ ì˜¤ëŠ˜ì²˜ëŸ¼ë§Œ ê¾¸ì¤€í•˜ê²Œ í•˜ìêµ¬!";
        messageEl.style.color = "green";
        messageEl.style.backgroundColor = "#d4edda";
      }
  }
    </script>
    </div>
  </div>
